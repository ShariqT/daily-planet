<!DOCTYPE html>
<html lang="en" class="no-js">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge"> 
		<meta name="viewport" content="width=device-width, initial-scale=1"> 
		<title>The Daily Planet | Donate</title>
		<meta name="description" content="The Daily Planet offers comprehensive and integrated healthcare to those who are homeless, or at risk of homelessness." />
		<meta name="keywords" content="healthcare, homeless, homelessness, free healthcare, daily planet, the daily planet" />
		<link rel="shortcut icon" href="../favicon.ico">
		<link rel="stylesheet" type="text/css" href="css/normalize.css" />
		<link rel="stylesheet" type="text/css" href="css/demo.css" />
		<link rel="stylesheet" type="text/css" href="css/component.css" />
		<link rel="stylesheet" type="text/css" href="css/content.css" />
		<script src="js/modernizr.custom.js"></script>
        <script src="js/popcorn-complete.js"></script>
       <!-- The required Stripe lib -->
  <script type="text/javascript" src="https://js.stripe.com/v2/"></script>
 
  <!-- jQuery is used only for this example; it isn't required to use Stripe -->
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
 
  <script type="text/javascript">
    // This identifies your website in the createToken call below
    Stripe.setPublishableKey('YOUR_PUBLISHABLE_KEY');
 
    var stripeResponseHandler = function(status, response) {
      var $form = $('#payment-form');
 
      if (response.error) {
        // Show the errors on the form
        $form.find('.payment-errors').text(response.error.message);
        $form.find('button').prop('disabled', false);
      } else {
        // token contains id, last4, and card type
        var token = response.id;
        // Insert the token into the form so it gets submitted to the server
        $form.append($('<input type="hidden" name="stripeToken" />').val(token));
        // and re-submit
        $form.get(0).submit();
      }
    };
 
    jQuery(function($) {
      $('#payment-form').submit(function(e) {
        var $form = $(this);
 
        // Disable the submit button to prevent repeated clicks
        $form.find('button').prop('disabled', true);
 
        Stripe.card.createToken($form, stripeResponseHandler);
 
        // Prevent the form from submitting with the default action
        return false;
      });
    });
  </script>
	</head>
	<body>
		<div class="container demo-4">
			<!-- Top Navigation -->
			<div class="codrops-top clearfix">
				<a class="codrops-icon codrops-icon-prev" href="http://www.thedailyplanet.org"><span>Back to The Daily Planet</span></a>
				
			</div>
			<header class="codrops-header">
				<h1>The Daily Planet</h1>
				<p>Offers comprehensive and integrated healthcare to those who are homeless, or at risk of homelessness.</p>
				<nav class="codrops-demos">
					<a class="current-demo" href="#">Primary</a>
					<a href="#">Behavioral</a>
					<a href="#">Dental</a>
					<a  href="#">Eye</a>
				</nav>
			</header>
			<section>
				<div class="mockup-content">
					<p>It only takes $60 to help someone see a primary care doctor.</p>
					<div class="morph-button morph-button-inflow morph-button-inflow-1">
						<button type="button"><span>Donate $5</span></button>
						<div class="morph-content">
							<div>
								<div class="content-style-form content-style-form-4">
									<h2 class="morph-clone">Donate to the Daily Planet</h2>
								        <form action="" method="POST" id="payment-form">
                                            <span class="payment-errors"></span>
                                                <div class="form-row">
                                                    <label>
                                                        <span>Card Number</span>
                                                        <input type="text" size="20" data-stripe="number"/>
                                                    </label>
                                                </div>
 
                                                <div class="form-row">
                                                    <label>
                                                        <span>CVC</span>
                                                        <input type="text" size="4" data-stripe="cvc"/>
                                                    </label>
                                                </div>
 
                                                <div class="form-row">
                                                    <label>
                                                        <span>Expiration (MM/YYYY)</span>
                                                        <input type="text" size="2" data-stripe="exp-month"/>
                                                    </label>
                                                        <span> / </span>
                                                        <input type="text" size="4" data-stripe="exp-year"/>
                                                </div>
 
                                                <button type="submit">Submit Payment</button>
                                        </form>
								</div>
							</div>
						</div>
					</div><!-- morph-button -->
					
				</div>
			</section>
			<section class="related">
				
			</section>
		</div><!-- /container -->
		<script src="js/classie.js"></script>
		<script src="js/uiMorphingButton_inflow.js"></script>
		<script>
			(function() {
				new UIMorphingButton( document.querySelector( '.morph-button' ) );

				// for demo purposes only
				[].slice.call( document.querySelectorAll( 'form button' ) ).forEach( function( bttn ) { 
					bttn.addEventListener( 'click', function( ev ) { ev.preventDefault(); } );
				} );
			})();
		</script>
	</body>
</html>